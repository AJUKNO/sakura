{%- comment -%}
  Renders a product installment block

  Accepts:
  - block: {Object} - the block to render
  - section: {Object} - the block to render
  - product: {Object} - the product to render

  Usage:
    {%- render 'product-installments',
        block: block,
        section: section,
        product: product
    -%}
{%- endcomment -%}

{%- liquid
  assign attributes = block.shopify_attributes
  assign product_form_installment_id = 'product-form-installment-' | append: section.id
%}

<div
  {{ attributes }}
  class='{{ class }}'
>
  {%- form 'product', product, id: product_form_installment_id -%}
    <input
      type='hidden'
      name='id'
      value='{{ product.selected_or_first_available_variant.id }}'
    >
    {{ form | payment_terms }}
  {%- endform -%}
</div>
